CREATE TABLE email (id BIGINT AUTO_INCREMENT, adresse VARCHAR(255) NOT NULL, name VARCHAR(255), ist_bestaetigt TINYINT(1) DEFAULT '0' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE newsletter (id BIGINT AUTO_INCREMENT, user_id BIGINT NOT NULL, text TEXT NOT NULL, headline VARCHAR(50), ist_gesendet TINYINT(1) DEFAULT '0' NOT NULL, beschreibung VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE user (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, vorname VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, login VARCHAR(50) NOT NULL UNIQUE, PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE newsletter ADD CONSTRAINT newsletter_user_id_user_id FOREIGN KEY (user_id) REFERENCES user(id) ON DELETE CASCADE;
